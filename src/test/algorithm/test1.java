package test.algorithm;

import java.util.Scanner;

//???????????????????gcd(m??n)????????
public class test1 {

	// ????????
	public static int Oujilide(int m, int n) {
		if (m % n == 0) {
			return n;
		} else {
			return Oujilide(n, m % n); // ???????????????????????????????????
		}
	}

	// ??????????
	public static int Lianxuzhengshu(int m, int n) {
		for (int min = m < n ? m : n; min > 0; min--) { // min?m,n???????
			if (m % min == 0 && n % min == 0) { // ??????-0?????????????????????????????????
				return min;
			}
		}

		return -1;
	}

	// ????????
	public static int Zhiyinshu(int m, int n) {
		int[] mnum = new int[100];
		int[] nnum = new int[100]; // ???m,n??????????????

		int result = 1; // ??????
		int[] rnum = new int[100]; // ??????????????

		int sm = search(m, mnum);
		int sn = search(n, nnum); // ??????????????
		System.out.println(m + "??" + toString(mnum, sm));
		System.out.println(n + "??" + toString(nnum, sn)); // ??????????

		int a = 0, b = 0, c = 0; // ??????????????????
		while (a < sm && b < sn) {
			if (mnum[a] == nnum[b]) {
				rnum[c++] = mnum[a];
				a++;
				b++;
			} else if (mnum[a] < nnum[b]) {
				a++;
			} else {
				b++;
			}
		}

		for (int i = 0; i < c; i++) { // ????????????????????result
			result *= rnum[i];
		}
		return result;
	}

	// ?????????????
	private static int search(int x, int[] xnum) { // ????X????????????xnum??
		int count = 0; // count???????????
		for (int i = 2; i <= x; i++) {
			if (x % i == 0) {
				xnum[count++] = i;
				x = x / i;
				i--; // ??????????????????
			}
		}
		return count;
	}

	// ??????????????
	private static String toString(int[] xnum, int count) {
		String str = "???????";
		for (int i = 0; i < count; i++) { // ??????????
			str = str + xnum[i] + " ";
		}
		return str;
	}

	public static void main(String[] args) {
		System.out.println("???????????????????????");
		Scanner scanner = new Scanner(System.in);

		String num1 = scanner.next();
		String num2 = scanner.next();
		scanner.close();

		System.out.println("???????m=" + num1);
		System.out.println("???????n=" + num2);
		System.out.println("*************************");
		try {
			int m = Integer.parseInt(num1);
			int n = Integer.parseInt(num2);

			System.out.println("??????????????????" + Oujilide(m, n) + ";");
			System.out.println("????????????????????" + Lianxuzhengshu(m, n) + ";");
			System.out.println("????????????????????" + Zhiyinshu(m, n) + ";");
		} catch (NumberFormatException e) {
			System.out.println("????????????????????");
			System.out.println(e.getMessage());
		}

	}

}
